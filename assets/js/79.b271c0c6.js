(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{441:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"gzctf搭建记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gzctf搭建记录"}},[s._v("#")]),s._v(" GZCTF搭建记录")]),s._v(" "),a("p",[s._v("本地搭建一个GZCTF平台(docker)")]),s._v(" "),a("p",[s._v("1c2g ubuntu server22.04搭建GZCTF后，没有运行web容器时，占用550m左右")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://the0n3.top/medias/GZCTF/1.png",alt:"1"}})]),s._v(" "),a("p",{staticStyle:{color:"red"}},[s._v("以下操作均在本地虚拟机")]),s._v(" "),a("p",[s._v("这篇文章包含以下内容：")]),s._v(" "),a("ul",[a("li",[s._v("换源")]),s._v(" "),a("li",[s._v("系统配置代理")]),s._v(" "),a("li",[s._v("安装docker,docker-compose")]),s._v(" "),a("li",[s._v("docker配置代理")]),s._v(" "),a("li",[s._v("配置编译GZCTF")])]),s._v(" "),a("p",{staticStyle:{color:"red"}},[s._v("前四步仅仅是为了保证docker可以正常安装、使用，如果可以解决网络问题，直接看第五步")]),s._v(" "),a("p",[s._v("读官方文档一定是最好的选择："),a("a",{attrs:{href:"https://gzctf.gzti.me/zh/guide/start/quick-start.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("【快速上手】"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("GZCTF官网：GZCTF 通过 Docker 镜像的方式提供，你可以通过 docker-compose 的方式快速部署一个功能完善的 CTF 平台。请注意，这并不是唯一的部署方式，我们更推荐使用 Kubernetes 的方式部署")]),s._v(" "),a("p",[s._v("所以如果docker可用，可以拉取镜像快速搭建一个GZCTF平台")]),s._v(" "),a("h2",{attrs:{id:"换源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#换源"}},[s._v("#")]),s._v(" 换源")]),s._v(" "),a("p",[s._v("在一个新的ubuntu系统时，更换到阿里源加快下载")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /etc/apt/sources.list /etc/apt/sources.list.bak "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 备份原有源")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /etc/apt/sources.list "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除原有源")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/apt/sources.list "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("粘贴以下内容，保存退出")]),s._v(" "),a("div",{staticClass:"language-plaintext line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plaintext"}},[a("code",[s._v("deb http://mirrors.aliyun.com/ubuntu/ jammy main restricted\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted\ndeb http://mirrors.aliyun.com/ubuntu/ jammy universe\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-updates universe\ndeb http://mirrors.aliyun.com/ubuntu/ jammy multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-updates multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-security universe\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-security multiverse\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("更新软件列表")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"系统配置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统配置代理"}},[s._v("#")]),s._v(" 系统配置代理")]),s._v(" "),a("p",[s._v("如果主机上运行了Cla*h服务在7890端口，配置虚拟机走主机的7890代理")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://the0n3.top/medias/GZCTF/2.png",alt:"2"}})]),s._v(" "),a("p",[s._v("配置ubuntu代理")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/profile.d\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" proxy.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("注意下面修改为你主机的实际VMware Network Adapter VMnet ip和端口")])]),s._v(" "),a("p",[s._v("看哪个和虚拟机ip处于同一网段")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://the0n3.top/medias/GZCTF/3.png",alt:"3"}})]),s._v(" "),a("p",[s._v("我的虚拟机ip"),a("code",[s._v("192.168.237.140")]),s._v("，所以用"),a("code",[s._v("192.168.237.1")]),s._v("这个")]),s._v(" "),a("p",[s._v("注意你的桥接ip和端口，保存退出")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("proxy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://192.168.237.1:7890"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("http_proxy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("https_proxy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTP_PROXY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HTTPS_PROXY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$proxy")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("保存退出，执行，立即生效")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" proxy.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("现在可以直接安装docker,docker-compose")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker.io "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("验证是否安装成功")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("gzctf@ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\nDocker version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24.0")]),s._v(".7, build "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24.0")]),s._v(".7-0ubuntu2~22.04.1\ngzctf@ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.29")]),s._v(".2, build unknown\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"docker配置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker配置代理"}},[s._v("#")]),s._v(" docker配置代理")]),s._v(" "),a("p",[s._v("配置一下docker方便拉取镜像")]),s._v(" "),a("p",[a("code",[s._v("/etc/systemd/system/docker.service.d/")]),s._v("这个目录可能不存在，先尝试创建")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /etc/systemd/system/docker.service.d/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("创建配置文件，写入内容")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/systemd/system/docker.service.d/http-proxy.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("注意修改为你主机的实际VMware Network Adapter VMnet ip和端口")])]),s._v(" "),a("p",[s._v("内容")]),s._v(" "),a("div",{staticClass:"language-plaintext line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plaintext"}},[a("code",[s._v('[Service]\nEnvironment="HTTP_PROXY=http://192.168.237.1:7890"\nEnvironment="HTTPS_PROXY=http://192.168.237.1:7890"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("重新加载，启动docker。查看信息")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("把当前用户加入docker组，授权当前用户docker权限，可以直接使用docker命令")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加用户组")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-aG")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接刷新")]),s._v("\nnewgrp "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",{staticStyle:{color:"red"}},[s._v("现在回归主题：搭建一个GZCTF平台")]),s._v(" "),a("p",[s._v("在根目录"),a("code",[s._v("/")]),s._v("或"),a("code",[s._v("/home")]),s._v("方便找到的目录都可以，那就根目录了")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" GZCTF\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" GZCTF\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"搭建gzctf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建gzctf"}},[s._v("#")]),s._v(" 搭建GZCTF")]),s._v(" "),a("p",[s._v("根据官方文档要求做")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("为了后续的配置，请准备好如下的初始化参数：")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("GZCTF_ADMIN_PASSWORD")]),s._v("：初始管理员密码，在数据库未初始化时生效，需要在第一次启动时进行设置，配置在 "),a("code",[s._v("compose.yml")]),s._v(" 中。")]),s._v(" "),a("li",[a("code",[s._v("POSTGRES_PASSWORD")]),s._v(": 数据库密码，需要配置在 "),a("code",[s._v("compose.yml")]),s._v(" 中及 "),a("code",[s._v("appsettings.json")]),s._v(" 中。")]),s._v(" "),a("li",[a("code",[s._v("XOR_KEY")]),s._v(": 用于加密比赛私钥的随机字符串，需要配置在 "),a("code",[s._v("appsettings.json")]),s._v(" 中。")]),s._v(" "),a("li",[a("code",[s._v("PUBLIC_ENTRY")]),s._v(": 外部访问地址，可以是 IP 或域名，需要配置在 "),a("code",[s._v("appsettings.json")]),s._v(" 中，用于提供给选手访问题目容器的地址。")])]),s._v(" "),a("p",[s._v("这里我准备了以下参数")]),s._v(" "),a("div",{staticClass:"language-plaintext line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plaintext"}},[a("code",[s._v("GZCTF_ADMIN_PASSWORD: Admin123..（GZCTF管理员密码）\nPOSTGRES_PASSWORD: gzctf123.. （数据库密码）\nXOR_KEY: thisXorKey  （加密比赛的随机字符串）\nPUBLIC_ENTRY: 192.168.237.140 （虚拟机ip）\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("手动替换到具体位置")]),s._v(" "),a("p",[s._v("创建"),a("code",[s._v("appsettings.json")]),s._v("文件，写入内容，注意手动把准备的参数替换进去，这里我已经把我准备的替换进去了")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" appsettings.json\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("文件内容")]),s._v(" "),a("div",{staticClass:"language-plaintext line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plaintext"}},[a("code",[s._v('{\n  "AllowedHosts": "*",\n  "ConnectionStrings": {\n    "Database": "Host=db:5432;Database=gzctf;Username=postgres;Password=gzctf123.."  // database password\n  },\n  "EmailConfig": {\n    "SenderAddress": "",\n    "SenderName": "",\n    "UserName": "",\n    "Password": "",\n    "Smtp": {\n      "Host": "localhost",\n      "Port": 587\n    }\n  },\n  "XorKey": "thisXorKey",   // XOR key\n  "ContainerProvider": {\n    "Type": "Docker", // or "Kubernetes"\n    "PortMappingType": "Default", // or "PlatformProxy"\n    "EnableTrafficCapture": false,\n    "PublicEntry": "192.168.237.140", // or "xxx.xxx.xxx.xxx"  PublicEntry\n    // optional\n    "DockerConfig": {\n      "SwarmMode": false,\n      "Uri": "unix:///var/run/docker.sock"\n    }\n  },\n  "RequestLogging": false,\n  "DisableRateLimit": true,\n  "RegistryConfig": {\n    "UserName": "",\n    "Password": "",\n    "ServerAddress": ""\n  },\n  "CaptchaConfig": {\n    "Provider": "None", // or "CloudflareTurnstile" or "GoogleRecaptcha"\n    "SiteKey": "<Your SITE_KEY>",\n    "SecretKey": "<Your SECRET_KEY>",\n    // optional\n    "GoogleRecaptcha": {\n      "VerifyAPIAddress": "https://www.recaptcha.net/recaptcha/api/siteverify",\n      "RecaptchaThreshold": "0.5"\n    }\n  },\n  "ForwardedOptions": {\n    "ForwardedHeaders": 7,\n    "ForwardLimit": 1,\n    "TrustedNetworks": ["192.168.12.0/8"]\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br")])]),a("p",[s._v("创建"),a("code",[s._v("compose.yml")]),s._v("文件，写入内容，注意手动把准备的参数替换进去，这里我已经把我准备的替换进去了")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" compose.yml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("文件内容")]),s._v(" "),a("div",{staticClass:"language-plaintext line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-plaintext"}},[a("code",[s._v('services:\n  gzctf:\n    image: registry.cn-shanghai.aliyuncs.com/gztime/gzctf:develop\n    restart: always\n    environment:\n      - "GZCTF_ADMIN_PASSWORD=Admin123.."   # GZCTF admin password\n      # choose your backend language `en_US` / `zh_CN` / `ja_JP`\n      - "LC_ALL=zh_CN.UTF-8"\n    ports:\n      - "80:8080"\n    volumes:\n      - "./data/files:/app/files"\n      - "./appsettings.json:/app/appsettings.json:ro"\n      # - "./kube-config.yaml:/app/kube-config.yaml:ro" # this is required for k8s deployment\n      - "/var/run/docker.sock:/var/run/docker.sock" # this is required for docker deployment\n    depends_on:\n      - db\n\n  db:\n    image: postgres:alpine\n    restart: always\n    environment:\n      - "POSTGRES_PASSWORD=gzctf123.."   # database password\n    volumes:\n      - "./data/db:/var/lib/postgresql/data"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("p",[s._v("在使用"),a("code",[s._v("docker compose up -d")]),s._v("时报错了")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://the0n3.top/medias/GZCTF/5.png",alt:"5"}})]),s._v(" "),a("p",[s._v("我们在开始时安装的是"),a("code",[s._v("docker-compose")])]),s._v(" "),a("p",[s._v("所以执行下面命令")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" compose.yml up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://the0n3.top/medias/GZCTF/6.png",alt:"6"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://the0n3.top/medias/GZCTF/7.png",alt:"7"}})]),s._v(" "),a("p",[s._v("访问"),a("code",[s._v("http://192.168.237.140")]),s._v("，可以看到已经搭建成功")]),s._v(" "),a("p",[s._v("登录前面的管理员账号可以创建比赛，发布题目等等")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://the0n3.top/medias/GZCTF/8.png",alt:"8"}})]),s._v(" "),a("p",[s._v("安装"),a("code",[s._v("neofetch")]),s._v("（毫不相干）")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" neofetch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\nneofetch\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://the0n3.top/medias/GZCTF/9.png",alt:"9"}})]),s._v(" "),a("p",[s._v("第一次以管理员身份进入GZCTF，好陌生，仔细探索可以找到很多细节的功能。这个平台真的很不错，感谢GZCTF团队。")]),s._v(" "),a("p",[s._v("Ciallo ～(∠・ω< )⌒★    Ciallo ～(∠・ω< )⌒★   Ciallo ～(∠・ω< )⌒★")]),s._v(" "),a("p",[s._v("参考、致谢：")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://gzctf.gzti.me/zh/guide/start/quick-start.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("GZCTF官方-快速上手"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/yeyouqing/articles/17021253.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ubuntu.22.04-server版详细安装方法安装"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/qq_39673370/article/details/140697136",target:"_blank",rel:"noopener noreferrer"}},[s._v("GZCTF靶场从零开始搭建教程"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);